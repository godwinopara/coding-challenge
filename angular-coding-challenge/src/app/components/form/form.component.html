
<form
  [formGroup]="recordForm"
  (ngSubmit)="submitForm()"
  class="bg-card border h-auto border-border max-w-md mx-auto rounded-xl p-8 shadow-lg space-y-6 backdrop-blur-sm"
>

  <!--============= Full Name ================= -->

  <div class="space-y-2">
    <label for="fullName" class="block text-sm font-semibold text-foreground">
      Full Name
    </label>
    <input
      id="fullName"
      type="text"
      placeholder="Enter your full name"
      formControlName="fullName"
      required
      class="w-full bg-input border border-border rounded-lg px-4 py-3 text-foreground placeholder:text-gray-400"
    />
    <!-- FullName Error Styling -->

    @if(recordForm.get('fullName')?.invalid && recordForm.get('fullName')?.touched){
    <p class="text-red-700 text-xs flex items-center gap-1 mt-1">
      <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
      </svg>
      Please enter a valid name
    </p>
    }
  </div>

  <!-- ============================================== -->
  <!-- =================== Amount =================== -->
   
  <div class="space-y-2">
    <label for="amount" class="block text-sm font-semibold text-accent">
      Amount
    </label>
    <div class="relative">
      <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground font-medium">â‚¦</span>
      <input
        id="amount"
        type="number"
        placeholder="0.00"
        formControlName="amount"
        class="w-full bg-input border border-border rounded-lg pl-8 pr-4 py-3 text-foreground placeholder:text-gray-400"
      />
    </div>

    <!-- Enhanced error styling -->
    @if(recordForm.get('amount')?.invalid &&
    recordForm.get('amount')?.touched){

    <p class="text-red-700 text-xs flex items-center gap-1 mt-1">
      <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
      </svg>
      Amount must be positive
    </p>
    }
  </div>


  <!-- ========================================== -->
  <!-- =========== Phone Number ================= -->

  <div class="space-y-2">
    <label for="phoneNumber" class="block text-sm font-semibold text-foreground">
      Phone Number
    </label>
    <div class="relative">
      <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-muted-foreground text-sm">ðŸ‡³ðŸ‡¬</span>
      <input
        id="phoneNumber"
        type="text"
        placeholder="08012345678"
        formControlName="phoneNumber"
        class="w-full bg-input border border-border rounded-lg pl-12 pr-4 py-3 text-foreground placeholder:text-gray-300"
      />
    </div>

    <!-- Phone Number error styling -->

    @if (recordForm.get('phoneNumber')?.invalid &&
    recordForm.get('phoneNumber')?.touched){
    <p class="text-red-700 text-xs flex items-center gap-1 mt-1">
      <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
      </svg>
      Enter a valid Nigerian phone number
    </p>
    }
  </div>

  <!-- ===================================================== -->
  <!--============ Profile Picture upload area ==============-->

  <div class="space-y-2">
    <label class="block text-sm font-semibold text-foreground mb-3">
      Profile Picture
    </label>
    <input
      type="file"
      accept=".png,.jpg,.jpeg"
      hidden
      (change)="onFileChange($event)"
      #fileInput
    />
    
    <div
      (click)="fileInput.click()"
      class="relative group cursor-pointer"
    >

      <div class="flex flex-col items-center justify-center py-8 px-6 border-2 border-dashed border-border rounded-xl bg-gradient-to-br from-card to-input hover:from-accent/5 hover:to-secondary/5 hover:border-accent/50 transition-all duration-300 group-hover:shadow-md">
        @if(profilePreview){
        <!--========= Enhanced image preview with better styling ===============-->
        <div class="relative mb-4">
          <img
            [src]="profilePreview"
            class="w-24 h-24 object-cover rounded-full border-4 border-accent/20 shadow-lg"
            alt="Profile Preview"
          />
          <div class="absolute inset-0 bg-black/20 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
          </div>
        </div>
        <p class="text-accent font-medium text-sm">Click to change photo</p>
        }@else {
        <!--========== upload icon and text ==============-->
        <div class="w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center mb-4 group-hover:bg-accent/20 transition-colors duration-200">
          <svg class="w-8 h-8 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
          </svg>
        </div>
        <p class="text-foreground font-medium mb-1">Upload Profile Picture</p>
        <p class="text-muted-foreground text-xs">PNG, JPG or JPEG (Max 5MB)</p>
        }
      </div>
    </div>

    <!--============== Enhanced error styling for profile picture ================-->
    @if (recordForm.get('profilePicture')?.invalid &&
    recordForm.get('profilePicture')?.touched) {
    <p class="text-red-700 text-xs flex items-center gap-1 mt-2">
      <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
      </svg>
      Profile picture is required
    </p>
    }
  </div>

  <!--========== Enhanced submit button with better styling and loading state ===========-->
  <button
    type="submit"
    class="w-full border border-black cursor-pointer bg-primary text-primary-foreground rounded-lg px-6 py-3 font-semibold text-sm hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 duration-200 transform hover:scale-[1.02] active:scale-[0.98] shadow-md disabled:cursor-not-allowed"
    [disabled]="recordForm.invalid"
  >
      Submit
  </button>
</form>
